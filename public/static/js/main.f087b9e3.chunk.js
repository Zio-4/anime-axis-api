(this["webpackJsonpanime-axis-frontend"]=this["webpackJsonpanime-axis-frontend"]||[]).push([[0],{104:function(e,a,t){e.exports=t.p+"static/media/user.0c039611.svg"},141:function(e,a,t){e.exports=t.p+"static/media/Sasuke.29f00131.png"},153:function(e,a,t){e.exports=t(190)},158:function(e,a,t){},190:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(34),c=t.n(l),m=(t(158),t(4)),s=t(18),i=t.n(s),o=t(24),u=t(12),d=t(25),E=t(14),p=t(10),g=t(11),h=t(30),f=t(29);var b=function(e){var a=e.title,t=e.id,n=e.image;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"mainpage-cards bg-dark text-white fluid",key:t},r.a.createElement(g.b,{to:"/anime/".concat(t)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:n,alt:"Card image"})))))};var v=function(e){var a=e.title,t=e.id,n=e.image;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"mainpage-cards bg-dark text-white fluid",key:t},r.a.createElement(g.b,{to:"/anime/".concat(t)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:n,alt:"Card image"})))))};var y=function(e){var a=e.title,t=e.id,n=e.image;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"mainpage-cards bg-dark text-white fluid",key:t},r.a.createElement(g.b,{to:"/anime/".concat(t)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:n,alt:"Card image"})))))};var k=function(e){var a=e.title,t=e.image,n=e.id;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"mainpage-cards bg-dark text-white fluid",key:n},r.a.createElement(g.b,{to:"/anime/".concat(n)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:t,alt:"Card image"})))))},N=t(27),j=t(13),x=t(44),O=t(139),_=t.n(O);var w=function(){return r.a.createElement("div",{className:"loading-component"},r.a.createElement(_.a,{type:"spin",color:"#813AFE"}))},C=t(48),S=t(21),I=t.n(S),T=function(){var e=Object(o.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I()(a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),L=function(e,a){return Object(C.useQuery)("getData"+e,(function(){return T(e)}),{onSuccess:a})},B=t(39),P=t(110),A=Object(P.b)({name:"search",initialState:{searchQuery:"",searchResults:[]},reducers:{updateSearchQuery:function(e,a){e.searchQuery=a.payload},updateSearchResults:function(e,a){e.searchResults=a.payload}}}),F=A.actions,z=F.updateSearchQuery,D=F.updateSearchResults,M=A.reducer;var Q=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(N.g)(),s=Object(B.b)(),p=L("https://api.jikan.moe/v3/top/anime/1/tv"),h=p.data,f=p.isLoading,O=L("https://api.jikan.moe/v3/top/anime/1/airing"),_=O.data,C=O.isLoading,S=L("https://api.jikan.moe/v3/top/anime/1/bypopularity"),T=S.data,P=S.isLoading,A=L("https://api.jikan.moe/v3/top/anime/1/upcoming"),F=A.data,M=A.isLoading;if(f)return r.a.createElement(w,null);if(C)return r.a.createElement(w,null);if(P)return r.a.createElement(w,null);if(M)return r.a.createElement(w,null);var Q=function(){var e=Object(o.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s(z(t)),e.prev=2,e.next=5,I()("https://api.jikan.moe/v3/search/anime?q=".concat(t,"&order_by=title&sort=asc&limit=10"));case 5:n=e.sent,s(D(n.data.results)),c.push("/search/anime"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),R=h.data.top.slice(0,6).map((function(e){return r.a.createElement(b,{key:e.mal_id,title:e.title,id:e.mal_id,image:e.image_url})})),U=_.data.top.slice(0,6).map((function(e){return r.a.createElement(v,{key:e.mal_id,title:e.title,id:e.mal_id,image:e.image_url})})),G=T.data.top.slice(0,6).map((function(e){return r.a.createElement(y,{key:e.mal_id,title:e.title,id:e.mal_id,image:e.image_url})})),H=F.data.top.slice(0,6).map((function(e){return r.a.createElement(k,{key:e.mal_id,title:e.title,id:e.mal_id,image:e.image_url})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"anime-search"},r.a.createElement(E.a,{style:{width:"22rem"},className:"mx-auto"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",className:"search-input",value:t,onChange:function(e){l(e.target.value)},placeholder:"eg. 'Naruto'"}),r.a.createElement("a",{href:"/#",onClick:Q,className:"search-icon"},r.a.createElement(x.d,null))))),r.a.createElement(u.a,{fluid:"md",className:"homepage-container"},r.a.createElement("p",{className:"headers mt-4"},"Top anime by score"),r.a.createElement(d.a,null,R,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topanime/score"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See More")))),r.a.createElement("p",{className:"headers mt-4"},"Top anime currently airing"),r.a.createElement(d.a,null,U,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topanime/airing"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See More")))),r.a.createElement("p",{className:"headers mt-4"},"Top upcoming anime"),r.a.createElement(d.a,null,H,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topanime/upcoming"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See More")))),r.a.createElement("p",{className:"headers mt-4"},"Top anime by popularity"),r.a.createElement(d.a,null,G,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topanime/popularity"},r.a.createElement(j.a,{className:"top-list-button",id:"bottom-see-more-button-anime",size:"md"},"See More"))))))},R=t(15),U=t(2),G=t(23),H=t(104),Y=t.n(H),q=t(141),J=t.n(q),V=t(36);var W=function(e){var a=e.setUserIsLoggedIn,t=Object(n.useState)({username:"",password:""}),l=Object(m.a)(t,2),c=l[0],s=l[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),f=h[0],b=h[1],v=Object(N.g)();function y(e){s(Object(U.a)(Object(U.a)({},c),{},Object(R.a)({},e.target.name,e.target.value)))}function k(){return(k=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I.a.post("/login",c);case 4:a(!0),v.push("/"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error.message:",e.t0.message),console.log("error.response:",e.t0.response),b(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(u.a,{className:"login-container"},r.a.createElement(d.a,null,r.a.createElement(E.a,{lg:4,md:6,sm:12,className:"text-center mt-5 p-3"},r.a.createElement("img",{className:"icon-img",src:Y.a,alt:"icon"}),r.a.createElement(G.a,{onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement(G.a.Group,{className:"mb-3"},r.a.createElement(G.a.Control,{type:"username",name:"username",value:c.username,onChange:y,placeholder:"Username"})),r.a.createElement(G.a.Group,{className:"mb-3"},r.a.createElement(G.a.Control,{type:"password",name:"password",value:c.password,onChange:y,placeholder:"Password"})),r.a.createElement("div",{className:"d-grid gap-2"},r.a.createElement(j.a,{id:"login-button",variant:"btn-block",type:"submit"},"Login")),r.a.createElement("div",{className:"signup-link mt-3"},r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(g.b,{to:"/signup"},"Sign up")),void 0===v.location.state?null:r.a.createElement(V.a,{variant:"danger",className:"forum-post-alert"},"You must first login to see this page"),f.length>0?r.a.createElement(V.a,{variant:"danger",className:"text-center"},f.length>0?f:null):null))),r.a.createElement(E.a,{lg:8,md:6,sm:12},r.a.createElement("img",{className:"w-100",src:J.a,alt:"sasuke"}))))};var K=function(e){var a=e.setUserIsLoggedIn,t=Object(n.useState)({username:"",password:"",password_confirmation:""}),l=Object(m.a)(t,2),c=l[0],s=l[1],d=Object(n.useState)([]),E=Object(m.a)(d,2),p=E[0],g=E[1],h=Object(N.g)();function f(e){s(Object(U.a)(Object(U.a)({},c),{},Object(R.a)({},e.target.name,e.target.value)))}function b(){return(b=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,c.password===c.password_confirmation){e.next=5;break}return g(["Password and Password confirmation do not match"]),e.abrupt("return");case 5:return e.next=7,I.a.post("/signup",c);case 7:a(!0),s({username:"",password:"",password_confirmation:""}),h.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("error:",e.t0),console.log("error data:",e.t0.response.data.errors),g(e.t0.response.data.errors);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return r.a.createElement(u.a,null,r.a.createElement("h2",{className:"signup-header"},"Create an account"),r.a.createElement(G.a,{className:"sign-up-form-container",onSubmit:function(e){return b.apply(this,arguments)}},r.a.createElement(G.a.Group,{className:"mb-2"},r.a.createElement(G.a.Label,{className:"signup-form-headers"},"Username"),r.a.createElement(G.a.Control,{type:"username",value:c.username,name:"username",onChange:f,placeholder:"Enter Username"})),r.a.createElement(G.a.Group,{className:"mb-2",controlId:"formBasicPassword"},r.a.createElement(G.a.Label,{className:"signup-form-headers"},"Password"),r.a.createElement(G.a.Control,{type:"password",value:c.password,name:"password",onChange:f,placeholder:"Password",autoComplete:"on"})),r.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicPasswordConfirmation"},r.a.createElement(G.a.Label,{className:"signup-form-headers"},"Confirm Password"),r.a.createElement(G.a.Control,{type:"password",value:c.password_confirmation,name:"password_confirmation",onChange:f,placeholder:"Confirm your password",autoComplete:"on"})),r.a.createElement(j.a,{variant:"primary",type:"submit",className:"signup-button mb-2"},"Submit"),p.length>0?p.map((function(e){return r.a.createElement(V.a,{key:e,className:"mt-2",variant:"danger"},e)})):null))},X=t(120),Z=t(85),$=t(51),ee=t(26),ae=t(144);var te=function(e){var a=e.userIsLoggedIn,t=e.setUserIsLoggedIn,l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],d=c[1],E=Object(N.g)(),p=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.delete("/logout");case 3:d(!1),t(!1),E.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){return d(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{bg:"dark",variant:"dark",fixed:"top"},r.a.createElement(u.a,null,r.a.createElement(X.a.Brand,{href:"/",id:"anime-axis-nav-header"},"Anime Axis"),r.a.createElement(Z.a,{className:"me-auto"},r.a.createElement($.a,{title:r.a.createElement(x.c,null),menuVariant:"dark"},r.a.createElement($.a.Item,{href:"/"},"Anime home"),r.a.createElement($.a.Item,{href:"/manga"},"Manga home")),r.a.createElement($.a,{title:r.a.createElement(x.a,null),menuVariant:"dark"},r.a.createElement($.a.Item,{href:"/forums/anime"},"Anime forum"),r.a.createElement($.a.Item,{href:"/forums/manga"},"Manga forum"),r.a.createElement($.a.Item,{href:"/forums/general"},"General forum")),r.a.createElement($.a,{title:r.a.createElement(x.b,null),menuVariant:"dark"},r.a.createElement($.a.Item,{href:"/animelist"},"Anime list"),r.a.createElement($.a.Item,{href:"/mangalist"},"Manga list"))),r.a.createElement(Z.a,null,r.a.createElement(Z.a.Link,{href:"/profile"},r.a.createElement(x.e,null)),a?r.a.createElement(Z.a.Link,{href:"",id:"logout-button",onClick:function(){d(!0)}},r.a.createElement(ae.a,null)):null))),r.a.createElement(ee.a,{show:s,onHide:g,animation:!1,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Are you sure you want to logout?")),r.a.createElement(ee.a.Footer,null,r.a.createElement(j.a,{variant:"danger",onClick:g},"No"),r.a.createElement(j.a,{variant:"success",onClick:p},"Yes"))))},ne=t(16),re=t(108);var le=function(e){var a=e.user,t=Object(N.h)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],g=c[1],h=Object(n.useState)(!1),f=Object(m.a)(h,2),b=f[0],v=f[1],y=Object(n.useState)(!1),k=Object(m.a)(y,2),x=k[0],O=k[1],_=L("https://api.jikan.moe/v3/anime/".concat(t.id),(function(e){a&&e&&a.data.animes.find((function(a){return a.title===e.data.title}))&&O(!0)})),C=_.data;if(_.isLoading)return r.a.createElement(w,null);function S(){return(S=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}g(!0),e.next=14;break;case 4:return e.prev=4,e.next=7,I.a.post("/animes",{title:C.data.title,id:C.data.mal_id,image_url:C.data.image_url,score:C.data.score,user_id:a.id});case 7:e.sent.data&&(O(!0),v(!0)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(u.a,{className:"anime-page-container"},r.a.createElement(d.a,null,r.a.createElement(E.a,{className:" anime-cards d-flex justify-content-center h-100"},r.a.createElement(p.a,{style:{width:"18rem"},className:"bg-dark text-white"},r.a.createElement(p.a.Img,{variant:"top",src:C.data.image_url}),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,C.data.title_english?C.data.title_english:C.data.title)),r.a.createElement(ne.a,{className:"list-group-flush"},r.a.createElement(ne.a.Item,{variant:"dark"},"Rank: ",C.data.rank),r.a.createElement(ne.a.Item,{variant:"dark"},"Episodes: ",C.data.episodes?C.data.episodes:"Unknown"),r.a.createElement(ne.a.Item,{variant:"dark"},"Duration: ",C.data.duration)),r.a.createElement(p.a.Body,null,x?r.a.createElement(j.a,{variant:"success"},"Anime in list ",r.a.createElement("span",{role:"img","aria-label":"checkmark emoji"},"\u2714\ufe0f")):r.a.createElement(j.a,{onClick:function(){return S.apply(this,arguments)},className:"add-to-anime-list-button"},"+ Anime List")),s?r.a.createElement(V.a,{variant:"danger",className:"anime-page-alert",onClose:function(){return g(!1)},dismissible:!0},"You must be logged in to add an anime!"):null,b?r.a.createElement(V.a,{variant:"success",onClose:function(){return v(!1)},dismissible:!0},"Anime has been added to your list"):null)),r.a.createElement(E.a,{className:"anime-cards"},r.a.createElement(p.a,{className:"bg-dark text-white"},r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,"Synopsis"),r.a.createElement(p.a.Text,null,C.data.synopsis))),C.data.genres.map((function(e){return r.a.createElement(re.a,{key:e.name,pill:!0,bg:"light",text:"dark"},e.name)}))),r.a.createElement(E.a,{className:"anime-cards d-flex justify-content-center h-100"},r.a.createElement(p.a,{style:{width:"18rem"},className:"bg-dark text-white"},r.a.createElement(p.a.Header,null,"Anime Info"),r.a.createElement(ne.a,{variant:"flush"},r.a.createElement(ne.a.Item,{variant:"dark"},"Aired: ",C.data.aired.string),r.a.createElement(ne.a.Item,{variant:"dark"},"Type: ",C.data.type),r.a.createElement(ne.a.Item,{variant:"dark"},"Rank by popularity: ",C.data.popularity),r.a.createElement(ne.a.Item,{variant:"dark"},"Producers: ",C.data.producers.map((function(e){return r.a.createElement("li",{key:e.name},e.name)}))),r.a.createElement(ne.a.Item,{variant:"dark"},"Premiered: ",C.data.premiered),r.a.createElement(ne.a.Item,{variant:"dark"},"Rating: ",C.data.rating),r.a.createElement(ne.a.Item,{variant:"dark"},"MyAnimeList Score: ",C.data.score),r.a.createElement(ne.a.Item,{variant:"dark"},"Status: ",C.data.status),r.a.createElement(ne.a.Item,{variant:"dark"},"Studios: ",C.data.studios.map((function(e){return r.a.createElement("li",{key:e.name},e.name)}))),r.a.createElement(ne.a.Item,{variant:"dark"},"Japanese Title: ",C.data.title_japanese),r.a.createElement(ne.a.Item,{variant:"dark"},"Synonyms: ",C.data.title_synonyms.map((function(e){return r.a.createElement("li",{key:e},e)})))))))))};var ce=function(e){var a=e.user,t=Object(n.useState)(!1),l=Object(m.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)(!1),o=Object(m.a)(i,2),E=o[0],g=o[1],h=Object(n.useState)(""),f=Object(m.a)(h,2),b=f[0],v=f[1],y=Object(n.useState)(""),k=Object(m.a)(y,2),x=k[0],O=k[1],_=Object(n.useState)(!1),w=Object(m.a)(_,2),S=w[0],T=w[1],L=Object(n.useState)(!1),B=Object(m.a)(L,2),P=B[0],A=B[1],F=Object(C.useQueryClient)(),z=Object(C.useMutation)((function(e){return I.a.patch("/users/".concat(a.data.id),e)}),{onSuccess:function(e){F.setQueryData("getData/user",e),s(!1),O(""),T(!0)},onError:function(e){return console.log(e.message)}}),D=Object(C.useMutation)((function(e){return I.a.patch("/users/".concat(a.data.id),e)}),{onSuccess:function(e){console.log("Data in onSuccess:",e),F.setQueryData("getData/user",e),g(!1),v(""),A(!0)},onError:function(e){return console.log(e.message)}}),M=function(){s(!1),O("")},Q=function(){return s(!0)},R=function(){g(!1),v("")},U=function(){return g(!0)};return a?r.a.createElement(u.a,{className:"profile-container"},r.a.createElement(d.a,{className:"d-flex justify-content-center"},r.a.createElement(p.a,{style:{width:"18rem"}},r.a.createElement(p.a.Img,{variant:"top",src:a.data.avatar?a.data.avatar:Y.a,id:"profile-icon",alt:"profile-icon"}),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,a.data.username)),r.a.createElement(ne.a,{className:"list-group-flush"},r.a.createElement(ne.a.Item,null," ",r.a.createElement("strong",null,"Bio:")," ",a.data.bio?a.data.bio:null))),r.a.createElement("div",{className:"d-grid gap-2 mt-2 justify-content-center"},a.data.bio?r.a.createElement(j.a,{variant:"primary",size:"sm",style:{width:"18rem"},onClick:Q,className:"profile-buttons"},"Update bio"):r.a.createElement(j.a,{variant:"primary",size:"sm",style:{width:"18rem"},onClick:Q,className:"profile-buttons"},"Add bio"),a.data.avatar?r.a.createElement(j.a,{variant:"primary",size:"sm",style:{width:"18rem"},onClick:U,className:"profile-buttons"},"Update avatar"):r.a.createElement(j.a,{variant:"primary",size:"sm",style:{width:"18rem"},onClick:U,className:"profile-buttons"},"Add avatar"),S?r.a.createElement(V.a,{variant:"success",className:"text-center",onClose:function(){return T(!1)},dismissible:!0},"Bio has been updated"):null,P?r.a.createElement(V.a,{variant:"success",className:"text-center",onClose:function(){return A(!1)},dismissible:!0},"Avatar has been updated"):null)),r.a.createElement(ee.a,{show:c,onHide:M,animation:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Bio")),r.a.createElement(ee.a.Body,{as:"textarea",value:x,onChange:function(e){return O(e.target.value)}}),r.a.createElement(ee.a.Footer,null,r.a.createElement(j.a,{variant:"secondary",onClick:M},"Close"),r.a.createElement(j.a,{variant:"primary",onClick:function(){z.mutate({bio:x||a.data.bio})}},"Submit"))),r.a.createElement(ee.a,{show:E,onHide:R,animation:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Enter URL for avatar image (Some URL's may not render the image due to Cross Origin Read Blocking)")),r.a.createElement(ee.a.Body,{as:"textarea",value:b,onChange:function(e){return v(e.target.value)}}),r.a.createElement(ee.a.Footer,null,r.a.createElement(j.a,{variant:"secondary",onClick:R},"Close"),r.a.createElement(j.a,{variant:"primary",onClick:function(){D.mutate({avatar:b||a.data.avatar})}},"Submit")))):r.a.createElement(N.a,{to:"/login"})};var me=function(e){var a=e.title,t=e.image,n=e.id;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"bg-dark text-white mainpage-cards",key:n},r.a.createElement(g.b,{to:"/manga/".concat(n)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:t,alt:"Card image"})))))};var se=function(e){var a=e.title,t=e.image,n=e.id;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"bg-dark text-white mainpage-cards",key:n},r.a.createElement(g.b,{to:"/manga/".concat(n)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:t,alt:"Card image"})))))};var ie=function(e){var a=e.title,t=e.image,n=e.id;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"bg-dark text-white mainpage-cards",key:n},r.a.createElement(g.b,{to:"/manga/".concat(n)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",src:t,alt:"Card image"})))))};var oe=function(e){var a=e.title,t=e.image,n=e.id;return r.a.createElement(h.a,{placement:"top",overlay:r.a.createElement(f.a,null,a)},r.a.createElement(E.a,{xs:6,md:2},r.a.createElement(p.a,{className:"bg-dark text-white mainpage-cards",key:n},r.a.createElement(g.b,{to:"/manga/".concat(n)},r.a.createElement(p.a.Img,{className:"mainpage-cards",src:t,alt:"Card image"})))))};var ue=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(N.g)(),s=Object(B.b)(),p=L("https://api.jikan.moe/v3/top/manga/1/manga"),h=p.data,f=p.isLoading,b=L("https://api.jikan.moe/v3/top/manga/1/oneshots"),v=b.data,y=b.isLoading,k=L("https://api.jikan.moe/v3/top/manga/1/bypopularity"),O=k.data,_=k.isLoading,C=L("https://api.jikan.moe/v3/top/manga/1/novels"),S=C.data,T=C.isLoading;if(f)return r.a.createElement(w,null);if(y)return r.a.createElement(w,null);if(_)return r.a.createElement(w,null);if(T)return r.a.createElement(w,null);var P=function(){var e=Object(o.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s(z(t)),e.prev=2,e.next=5,I()("https://api.jikan.moe/v3/search/manga?q=".concat(t,"&order_by=title&sort=asc&limit=10"));case 5:n=e.sent,s(D(n.data.results)),c.push("/search/manga"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),A=h.data.top.slice(0,6).map((function(e){return r.a.createElement(se,{key:e.mal_id,title:e.title,image:e.image_url,id:e.mal_id})})),F=v.data.top.slice(0,6).map((function(e){return r.a.createElement(oe,{key:e.mal_id,title:e.title,image:e.image_url,id:e.mal_id})})),M=O.data.top.slice(0,6).map((function(e){return r.a.createElement(me,{key:e.mal_id,title:e.title,image:e.image_url,id:e.mal_id})})),Q=S.data.top.slice(0,6).map((function(e){return r.a.createElement(ie,{key:e.mal_id,title:e.title,image:e.image_url,id:e.mal_id})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"manga-search"},r.a.createElement(E.a,{style:{width:"22rem"},className:"mx-auto"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",className:"search-input",value:t,onChange:function(e){l(e.target.value)},placeholder:"eg. 'Tokyo Ghoul'"}),r.a.createElement("a",{href:"/#",onClick:P,className:"search-icon"},r.a.createElement(x.d,null))))),r.a.createElement(u.a,{fluid:"md",className:"manga-homepage-container"},r.a.createElement("p",{className:"headers mt-4"},"Top manga by score"),r.a.createElement(d.a,null,A,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topmanga/score"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See more")))),r.a.createElement("p",{className:"headers mt-4"},"Top manga one-shots"),r.a.createElement(d.a,null,F,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topmanga/oneshots"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See more")))),r.a.createElement("p",{className:"headers mt-4"},"Top manga by popularity"),r.a.createElement(d.a,null,M,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topmanga/popularity"},r.a.createElement(j.a,{className:"top-list-button",size:"md"},"See more")))),r.a.createElement("p",{className:"headers mt-4"},"Top manga novels"),r.a.createElement(d.a,null,Q,r.a.createElement(u.a,null,r.a.createElement(g.b,{to:"/topmanga/novels"},r.a.createElement(j.a,{className:"top-list-button",id:"bottom-see-more-button-manga",size:"md"},"See more"))))))};var de=function(e){var a=e.user,t=Object(N.h)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],g=c[1],h=Object(n.useState)(!1),f=Object(m.a)(h,2),b=f[0],v=f[1],y=Object(n.useState)(!1),k=Object(m.a)(y,2),x=k[0],O=k[1],_=L("https://api.jikan.moe/v3/manga/".concat(t.id),(function(e){a&&e&&a.data.mangas.find((function(a){return a.title===e.data.title}))&&O(!0)})),C=_.data;if(_.isLoading)return r.a.createElement(w,null);function S(){return(S=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}g(!0),e.next=14;break;case 4:return e.prev=4,e.next=7,I.a.post("/mangas",{title:C.data.title,id:C.data.mal_id,image_url:C.data.image_url,score:C.data.score,user_id:a.id});case 7:e.sent.data&&(O(!0),v(!0)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(u.a,{className:"manga-page-container"},r.a.createElement(d.a,null,r.a.createElement(E.a,{med:4,className:"d-flex justify-content-center mb-2 h-100"},r.a.createElement(p.a,{style:{width:"18rem"},className:"bg-dark text-white "},r.a.createElement(p.a.Img,{variant:"top",src:C.data.image_url}),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,C.data.title_english?C.data.title_english:C.data.title)),r.a.createElement(ne.a,{className:"list-group-flush"},r.a.createElement(ne.a.Item,{variant:"dark"},"Rank:  ",C.data.rank),r.a.createElement(ne.a.Item,{variant:"dark"},"Chapters:  ",C.data.chapters?C.data.chapters:"Unknown"),r.a.createElement(ne.a.Item,{variant:"dark"},"Volumes:  ",C.data.volumes)),r.a.createElement(p.a.Body,null,x?r.a.createElement(j.a,{variant:"success"},"Manga in list ",r.a.createElement("span",{role:"img","aria-label":"checkmark emoji"},"\u2714\ufe0f")):r.a.createElement(j.a,{onClick:function(){return S.apply(this,arguments)},className:"add-to-manga-list-button"},"+ Manga List")),s?r.a.createElement(V.a,{variant:"danger",className:"manga-page-alert",onClose:function(){return g(!1)},dismissible:!0},"You must be logged in to add a manga!"):null,b?r.a.createElement(V.a,{variant:"success",onClose:function(){return v(!1)},dismissible:!0},"Manga has been added to your list"):null)),r.a.createElement(E.a,{med:4},r.a.createElement(p.a,{className:"bg-dark text-white"},r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,"Synopsis"),r.a.createElement(p.a.Text,null,C.data.synopsis))),C.data.genres.map((function(e){return r.a.createElement(re.a,{key:e.name,pill:!0,bg:"light",text:"dark"},e.name)})),r.a.createElement(p.a,{id:"manga-background-card",className:"bg-dark text-white mb-2"},r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,"Background"),r.a.createElement(p.a.Text,null,C.data.background)))),r.a.createElement(E.a,{med:4,className:"d-flex justify-content-center mb-2 h-100"},r.a.createElement(p.a,{style:{width:"18rem"},className:"bg-dark text-white "},r.a.createElement(p.a.Header,null,"Manga Info"),r.a.createElement(ne.a,{variant:"flush"},r.a.createElement(ne.a.Item,{variant:"dark"},"Published: ",C.data.published.string),r.a.createElement(ne.a.Item,{variant:"dark"},"Type:  ",C.data.type),r.a.createElement(ne.a.Item,{variant:"dark"},"Authors:  ",C.data.authors.map((function(e){return r.a.createElement("li",{key:e.name},e.name)}))),r.a.createElement(ne.a.Item,{variant:"dark"},"Rank by popularity:  ",C.data.popularity),r.a.createElement(ne.a.Item,{variant:"dark"},"Serializations:  ",C.data.serializations.map((function(e){return r.a.createElement("li",{key:e.name},e.name)}))),r.a.createElement(ne.a.Item,{variant:"dark"},"MyAnimeList Score:  ",C.data.score),r.a.createElement(ne.a.Item,{variant:"dark"},"Status:  ",C.data.status),r.a.createElement(ne.a.Item,{variant:"dark"},"Japanese Title:  ",C.data.title_japanese),r.a.createElement(ne.a.Item,{variant:"dark"},"Synonyms:  ",C.data.title_synonyms.map((function(e){return r.a.createElement("li",{key:e},e)})))))))))},Ee=t(22);var pe=function(){var e=L("https://api.jikan.moe/v3/top/anime/1/upcoming"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/anime/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"anime art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-anime-upcoming-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 upcoming anime")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var ge=function(){var e=L("https://api.jikan.moe/v3/top/anime/1/bypopularity"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/anime/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"anime art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-anime-popularity-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 anime by popularity")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var he=function(){var e=L("https://api.jikan.moe/v3/top/anime/1/airing"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/anime/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"anime art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-anime-airing-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 anime currently airing")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var fe=function(){var e=L("https://api.jikan.moe/v3/top/anime/1/tv"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/anime/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"anime art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-anime-score-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 anime by score")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var be=function(){var e=L("https://api.jikan.moe/v3/top/manga/1/novels"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/manga/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"manga art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-manga-novels-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 manga novels")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var ve=function(){var e=L("https://api.jikan.moe/v3/top/manga/1/bypopularity"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/manga/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"manga art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-manga-popularity-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 manga by popularity")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var ye=function(){var e=L("https://api.jikan.moe/v3/top/manga/1/manga"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/manga/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"manga art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-manga-score-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 manga by score")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var ke=function(){var e=L("https://api.jikan.moe/v3/top/manga/1/oneshots"),a=e.data;if(e.isLoading)return r.a.createElement(w,null);var t=a.data.top.map((function(e){return r.a.createElement("tr",{key:e.mal_id},r.a.createElement("td",null,e.rank),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/manga/".concat(e.mal_id)},r.a.createElement("img",{src:e.image_url,alt:"manga art"})),e.title),r.a.createElement("td",null,e.score))}));return r.a.createElement(u.a,{className:"top-manga-oneshots-list"},r.a.createElement("header",null,r.a.createElement("h1",null,"Top 50 manga one-shots")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,t)))};var Ne=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(m.a)(c,2),b=s[0],v=s[1],y=Object(B.c)((function(e){return e.search})).searchQuery,k=Object(B.c)((function(e){return e.search})).searchResults,N=Object(B.b)(),j=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),N(z(t)),N(D([])),e.next=5,I()("https://api.jikan.moe/v3/search/anime?q=".concat(t,"&order_by=title&sort=asc&limit=10"));case 5:a=e.sent,v(!1),N(D(a.data.results)),l("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=k.map((function(e){return r.a.createElement(h.a,{key:e.mal_id,placement:"top",overlay:r.a.createElement(f.a,null,e.title)},r.a.createElement(E.a,{xs:6,sm:2,med:4},r.a.createElement(p.a,{className:"mainpage-cards search-cards"},r.a.createElement(g.b,{to:"/anime/".concat(e.mal_id)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",variant:"top",src:e.image_url})))))}));return r.a.createElement("div",null,r.a.createElement(u.a,{className:"anime-search"},r.a.createElement(E.a,{style:{width:"22rem"},className:"mx-auto"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",className:"search-input",value:t,onChange:function(e){l(e.target.value)},placeholder:"eg. 'Naruto'"}),r.a.createElement("a",{onClick:j,className:"search-icon"},r.a.createElement(x.d,null)))),r.a.createElement("h1",{className:"mt-5"},"Showing results for: ",y)),r.a.createElement(u.a,null,r.a.createElement(d.a,null,O,b?r.a.createElement(w,null):null)))};var je=function(e){var a=e.user,t=Object(N.g)(),n=L("https://anime-axis-api.herokuapp.com/forum_posts/anime"),l=n.data;if(n.isLoading)return r.a.createElement(w,null);var c=l.data.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(g.b,{to:"/forums/post/".concat(e.id)},e.title),r.a.createElement("br",null),e.user.username," - ",e.post_time),r.a.createElement("td",null,e.number_of_comments))}));return r.a.createElement(u.a,{className:"anime-forum-container"},r.a.createElement("h1",null,"Anime Forum Board"),r.a.createElement(j.a,{onClick:function(){a?t.push("/forums/newpost"):t.push("/login",{from:"anime forum"})},className:"create-forum-post-button"},"Create New Post"),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,className:"anime-forum-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Post"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,c)))};var xe=function(e){var a=e.user,t=Object(N.g)(),n=L("/forum_posts/general"),l=n.data;if(n.isLoading)return r.a.createElement(w,null);var c=l.data.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(g.b,{to:"/forums/post/".concat(e.id)},e.title),r.a.createElement("br",null),e.user.username," - ",e.post_time),r.a.createElement("td",null,e.number_of_comments))}));return r.a.createElement(u.a,{className:"general-forum-container"},r.a.createElement("h1",null,"General Forum Board"),r.a.createElement(j.a,{onClick:function(){a?t.push("/forums/newpost",{from:"general forum"}):t.push("/login",{from:"general forum"})},className:"create-forum-post-button"},"Create New Post"),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,className:"general-forum-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Post"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,c)))};var Oe=function(e){var a=e.user,t=Object(N.g)(),n=L("/forum_posts/general"),l=n.data;if(n.isLoading)return r.a.createElement(w,null);var c=l.data.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(g.b,{to:"/forums/post/".concat(e.id)},e.title),r.a.createElement("br",null),e.user.username," - ",e.post_time),r.a.createElement("td",null,e.number_of_comments))}));return r.a.createElement(u.a,{className:"manga-forum-container"},r.a.createElement("h1",null,"Manga Forum Board"),r.a.createElement(j.a,{onClick:function(){a?t.push("/forums/newpost",{from:"manga forum"}):t.push("/login",{from:"manga forum"})},className:"create-forum-post-button"},"Create New Post"),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,className:"manga-forum-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Post"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,c)))};var _e=function(e){var a=e.user,t=Object(n.useState)({title:"",content:""}),l=Object(m.a)(t,2),c=l[0],s=l[1],d=Object(n.useState)(1),E=Object(m.a)(d,2),p=E[0],g=E[1],h=Object(N.g)();function f(e){s(Object(U.a)(Object(U.a)({},c),{},Object(R.a)({},e.target.name,e.target.value)))}function b(){return(b=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I.a.post("/forum_posts",{title:c.title,content:c.content,forum_id:p,user_id:a.data.id});case 3:n=e.sent,s({title:"",content:""}),h.push("/forums/post/".concat(n.data.id));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){h.location.state?"manga forum"===h.location.state.from?g(2):"general forum"===h.location.state.from&&g(3):g(1)}),[h.location.state]),r.a.createElement(u.a,{className:"forum-post-form-container"},r.a.createElement(G.a,{onSubmit:function(e){return b.apply(this,arguments)}},r.a.createElement(G.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},r.a.createElement(G.a.Label,null,"Post title"),r.a.createElement(G.a.Control,{type:"text",onChange:f,name:"title",value:c.title,placeholder:"Why did the chicken cross the road?"})),r.a.createElement(G.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},r.a.createElement(G.a.Label,null,"Post content"),r.a.createElement(G.a.Control,{as:"textarea",onChange:f,name:"content",value:c.content,rows:3,placeholder:"To get home and watch some anime obviously!"})),r.a.createElement(j.a,{variant:"primary",type:"submit",className:"forum-post-submit-button"},"Submit")))},we=t(58);var Ce=function(e){var a=e.content,t=e.time,n=e.username;return r.a.createElement(p.a,{className:"mt-2"},r.a.createElement(p.a.Header,null,"By ",n),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,a)),r.a.createElement(p.a.Footer,{className:"text-muted"},t))};var Se=function(e){var a=e.user,t=Object(N.h)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(m.a)(o,2),E=d[0],g=d[1],h=Object(n.useState)(!1),f=Object(m.a)(h,2),b=f[0],v=f[1],y=Object(C.useQueryClient)(),k=Object(C.useMutation)((function(e){return I.a.post("/comments",e)}),{onSuccess:function(e){y.setQueryData("getData/comments/".concat(t.id),(function(a){return Object(U.a)(Object(U.a)({},a),{},{data:[].concat(Object(we.a)(a.data),[e.data])})})),g(""),i(!1)}}),x=L("/comments/".concat(t.id)),O=x.data,_=x.isLoading,S=L("/forum_posts/".concat(t.id)),T=S.data;if(S.isLoading)return r.a.createElement(w,null);if(_)return r.a.createElement(w,null);var B=function(){return i(!1)},P=O.data.map((function(e){return r.a.createElement(Ce,{key:e.id,content:e.content,time:e.comment_time,username:e.user.username})}));return r.a.createElement("div",null,r.a.createElement(u.a,{className:"forum-post-container"},r.a.createElement(j.a,{onClick:function(){a?i(!0):v(!0)},className:"comment-button"},"Comment on post"),b?r.a.createElement(V.a,{variant:"danger",className:"forum-post-alert",onClose:function(){return v(!1)},dismissible:!0},"You must first login to comment"):null,r.a.createElement(p.a,{className:"forum-post-card",border:"dark"},r.a.createElement(p.a.Header,null,"By ",T.data.user.username),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Title,null,T.data.title),r.a.createElement(p.a.Text,null,T.data.content)),r.a.createElement(p.a.Footer,{className:"text-muted"},T.post_time))),r.a.createElement(u.a,{className:"comments-container"},P),r.a.createElement(ee.a,{show:s,onHide:B,animation:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"New Comment")),r.a.createElement(ee.a.Body,{as:"textarea",value:E,onChange:function(e){return g(e.target.value)}}),r.a.createElement(ee.a.Footer,null,r.a.createElement(j.a,{variant:"secondary",onClick:B},"Close"),r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),k.mutate({content:E,forum_post_id:T.data.id,user_id:a.data.id})},className:"comment-submit-button"},"Post Comment"))))};var Ie=function(e){var a=e.user;if(!a)return r.a.createElement(N.a,{to:"/login"});var t=0;return r.a.createElement(u.a,{className:"users-anime-list"},r.a.createElement("header",null,r.a.createElement("h1",null,a.data.username," anime list")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,function(){if(a.data.animes.length>0)return a.data.animes.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+=1),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/anime/".concat(e.id)},r.a.createElement("img",{src:e.image_url,alt:"anime art"})),r.a.createElement("div",null,e.title)),r.a.createElement("td",null,e.score))}))}())),function(){if(0===a.data.animes.length)return r.a.createElement("h2",null,"There are no anime in your list. Go add some!")}())};var Te=function(e){var a=e.user;if(!a)return r.a.createElement(N.a,{to:"/login"});var t=0;return r.a.createElement(u.a,{className:"users-manga-list"},r.a.createElement("header",null,r.a.createElement("h1",null,a.data.username," manga list")),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,function(){if(a.data.mangas.length>0)return a.data.mangas.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+=1),r.a.createElement("td",null,r.a.createElement(g.b,{to:"/manga/".concat(e.id)},r.a.createElement("img",{src:e.image_url,alt:"manga art"})),e.title),r.a.createElement("td",null,e.score))}))}())),function(){if(0===a.data.mangas.length)return r.a.createElement("h2",null,"There are no manga in your list. Go add some!")}())};var Le=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(m.a)(c,2),b=s[0],v=s[1],y=Object(B.b)(),k=Object(B.c)((function(e){return e.search})).searchQuery,N=Object(B.c)((function(e){return e.search})).searchResults,j=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),y(z(t)),y(D([])),e.next=5,I()("https://api.jikan.moe/v3/search/manga?q=".concat(t,"&order_by=title&sort=asc&limit=10"));case 5:a=e.sent,v(!1),y(D(a.data.results)),l("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=N.map((function(e){return r.a.createElement(h.a,{key:e.mal_id,placement:"top",overlay:r.a.createElement(f.a,null,e.title)},r.a.createElement(E.a,{xs:6,sm:2,med:4},r.a.createElement(p.a,{className:"mainpage-cards search-cards"},r.a.createElement(g.b,{to:"/manga/".concat(e.mal_id)},r.a.createElement(p.a.Img,{className:"mainpage-card-images",variant:"top",src:e.image_url})))))}));return r.a.createElement("div",null,r.a.createElement(u.a,{className:"manga-search"},r.a.createElement(E.a,{style:{width:"22rem"},className:"mx-auto"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",className:"search-input",value:t,onChange:function(e){l(e.target.value)},placeholder:"eg. 'Naruto'"}),r.a.createElement("a",{onClick:j,className:"search-icon"},r.a.createElement(x.d,null)))),r.a.createElement("h1",{className:"mt-5"},"Showing results for: ",k)),r.a.createElement(u.a,{className:"d-flex justify-content-center"},r.a.createElement(d.a,null,O,b?r.a.createElement(w,null):null)))};var Be=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],l=a[1],c=L("/user",(function(e){e&&l(!0)})),s=c.data;return c.isLoading?r.a.createElement(w,null):r.a.createElement("div",{className:"App"},r.a.createElement(te,{userIsLoggedIn:t,setUserIsLoggedIn:l}),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/mangalist"},r.a.createElement(Te,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/animelist"},r.a.createElement(Ie,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/forums/newpost"},r.a.createElement(_e,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/forums/anime"},r.a.createElement(je,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/forums/manga"},r.a.createElement(Oe,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/forums/general"},r.a.createElement(xe,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/forums/post/:id"},r.a.createElement(Se,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/topmanga/score"},r.a.createElement(ye,null)),r.a.createElement(N.b,{exact:!0,path:"/topmanga/oneshots"},r.a.createElement(ke,null)),r.a.createElement(N.b,{exact:!0,path:"/topmanga/novels"},r.a.createElement(be,null)),r.a.createElement(N.b,{exact:!0,path:"/topmanga/popularity"},r.a.createElement(ve,null)),r.a.createElement(N.b,{exact:!0,path:"/topanime/score"},r.a.createElement(fe,null)),r.a.createElement(N.b,{exact:!0,path:"/topanime/upcoming"},r.a.createElement(pe,null)),r.a.createElement(N.b,{exact:!0,path:"/topanime/popularity"},r.a.createElement(ge,null)),r.a.createElement(N.b,{exact:!0,path:"/topanime/airing"},r.a.createElement(he,null)),r.a.createElement(N.b,{exact:!0,path:"/manga/:id"},r.a.createElement(de,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/profile"},r.a.createElement(ce,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/anime/:id"},r.a.createElement(le,{user:s})),r.a.createElement(N.b,{exact:!0,path:"/login"},r.a.createElement(W,{setUserIsLoggedIn:l})),r.a.createElement(N.b,{exact:!0,path:"/signup"},r.a.createElement(K,{setUserIsLoggedIn:l})),r.a.createElement(N.b,{exact:!0,path:"/search/manga"},r.a.createElement(Le,null)),r.a.createElement(N.b,{exact:!0,path:"/manga"},r.a.createElement(ue,null)),r.a.createElement(N.b,{exact:!0,path:"/search/anime"},r.a.createElement(Ne,null)),r.a.createElement(N.b,{exact:!0,path:"/"},r.a.createElement(Q,null)),r.a.createElement(N.b,{exact:!0,path:"/loading"},r.a.createElement(w,null)),r.a.createElement(N.b,{path:"*"},r.a.createElement("h1",null,"404 not found"),r.a.createElement(N.a,{from:"*",to:"/"}))))},Pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,198)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,l=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),l(e),c(e)}))},Ae=(t(189),t(145)),Fe=Object(P.a)({reducer:{search:M}}),ze=new C.QueryClient;c.a.render(r.a.createElement(g.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.QueryClientProvider,{client:ze},r.a.createElement(B.a,{store:Fe},r.a.createElement(Be,null)),r.a.createElement(Ae.ReactQueryDevtools,{initialIsOpen:!1})))),document.getElementById("root")),Pe()}},[[153,1,2]]]);
//# sourceMappingURL=main.f087b9e3.chunk.js.map